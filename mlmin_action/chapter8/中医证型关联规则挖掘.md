### 中医证型关联规则挖掘

### 背景
恶性肿瘤俗称癌症，当前已经成为危害我国居民生命健康的主要杀手。应用中医药治疗恶性肿瘤已经
成为公认的综合治疗方法之一，且中医药治疗乳腺癌有着广泛的适应证和独特的优势。
确定“先证而治”的方向：即后续症候尚未出现之前，需要截断恶化病情的哪些后续症候。
发现中医症状间的关联关系和诸多症状间的规律性，并且依据规则分析病因、预测病情发展以及为未来临床诊治提供有效借鉴。这样，在治疗患者的过程中，医生可以有效的减少西医治疗的毒副作用，为后续治疗打下基础。并且能够
帮助乳腺癌患者在手术后恢复体质，改善生存质量，有利于提高患者的生存几率。


原始信息表：
    
    属性：
    实际年龄，发病年龄，初潮年龄，既往月经是否规律，是否痛经，是否绝经....
    肝气郁结证得分，热毒蕴结证得分，冲任失调症得分。气血两虚证得分，脾胃虚弱证得分，肝肾阴虚证得分
    TNM分期，确诊几年后发现转移，转移部位，病程阶段。
    
### 8.2 分析方法与过程。
截断扭转的主要观点是强调早期治疗，力图快速控制病情，截断病情邪变深入，扭转阻止疾病恶化。

目前，很少会将患者的患病信息存放于系统中，因此进行数据分析时会面临数据缺乏的情况。针对这种情况，
本章采用问卷调查的方式收集数据；运用数据挖掘技术对收集的数据进行数据探索与预处理，形成建模数据；
采用关联规则算法，挖掘各中医证素与乳腺癌TNM分期之间的关系，其中乳腺癌TNM分期是乳腺癌分析基本
原则，I期较轻，IV期较严重。探索不同分期阶段的三阴乳腺癌患者的中医证素分布规律，以及采用截断病变发展、先期干预的治疗思路，指导三阴乳腺癌的中医临床治疗。


    问卷调查
    原始数据
    数据预处理
    运用关联规则算法建模
    模型分析
    模型应用
    模型优化
    应用结果。

### 8.2.2 数据预处理
3 数据变换
本章数据变换主要采用属性构造和数据离散化两种方法对数据进行处理。首先通过属性构造，获得证型系数，
然后通过聚类算法对数据进行离散化处理，形成建模数据

（1） 属性构造
采用证型系数代替具体单证型的证素得分，证型相关系数计算公式为： 证型系数= 该证型得分/该证型总分。

 ![](file:///C:\Users\loneve\Pictures\data_min\2.PNG)
 ![](file:///C:\Users\loneve\Pictures\data_min\3.PNG)
 
 (2)数据离散化
 由于Apriori无法处理连续性数值，采用聚类算法对各个证型系数进行离散化
，将每个属性分成4类，
 ![](file:///C:\Users\loneve\Pictures\data_min\4.PNG)
 
 ![](file:///C:\Users\loneve\Pictures\data_min\5.PNG)
 
 
### 8.2.3 模型构建
 ![](file:///C:\Users\loneve\Pictures\data_min\6.PNG)
 输入部分： 建模数据的输入， 建模参数的输入
 首先设置最小支持度，最小置信度，如果所有的规则都不满足条件，则需要重新调整模型参数，否则则输出关联规则结果
 
 目前，如何设置最小支持度与最小置信度并没有统一的标准。大部分是根据业务经验设置初始值，然后经过多次调整，获取与业务相符的关联规则结果。 本章： 最小支持度6%, 最小置信度75%.
 
 
 python 的流行库总没有自带的关联规则函数，因此需要自行编写相关的关联规则函数。
 
 
 